#################################################################
#                                                               #
#                           TreeSnake                           #
#                             ----                              #
#                 INSTALLATION ET DEPENDANCES                   #
#                                                               #
#################################################################


DÉPENDANCES
***********
	 _______________________________
	|    librairies		|	version	|
	|-------------------------------|
	| - Qt				|	4.7		|
	| - Armadillo		|	2.4.2	|
	| - InsightToolkit	|	4.0.0	|
	| - Qwt				|	6.0.0	|
	| - Qxt				|	0.6.2	|
	| - QwtPolar		|	1.0.0	|
	| - DGtalTools      |  current  |
	| - ImaGene 	    |  perso 	|
	| - DGLib           |  perso    |
	 ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯

PRE-REQUIS
**********

	Installez les paquets "build-essential" et "cmake".

	> sudo apt-get install build-essential cmake


1) QT
   **

	Installation du packet qtcreator (v. 2.2.1) dans le dépôt UNIVERSE qui installe les librairies de Qt
	(v. 4.7.3) par dépendance :
	
	> sudo apt-get install qtcreator

2) Armadillo
   *********

	Utilisation de la version disponible sur le site http://arma.sourceforge.net/ (v. 2.4.2)
	Le version des dépôts est la 2.0.1.
	
	Il est recommandé d'installer LAPACK, BLAS, ATLAS et Boost pour améliorer les performances, particulièrement
	des additions et multiplication de matrices.

	> sudo apt-get install liblapack-dev libblas-dev libatlas-dev libboost-dev

	> tar xvf armadillo-2.4.2.tar.gz
	> cd armadillo-2.4.2/
	> cmake .
	> make
	> sudo make install

3) InsightToolkit
   **************

	Utilisation de la version disponible sur le site http://www.itk.org/ITK/resources/software.html (v. 4.0.0)
	Le version des dépôts est la 3.20.0

	> tar xvf InsightToolkit-4.0.0.tar.gz
	> cd InsightToolkit-4.0.0/
	> mkdir binary
	> cd binary
	> cmake ..
	> make
	> sudo make install

4) Qwt
   ***

	Utilisation de la version disponible dans le dépôt MAIN.

	> sudo apt-get install libqwt-dev


4) Qxt
   ***

	Utilisation de la version disponible sur le site http://www.libqxt.org (v. 0.6.2)
	La version des dépôts est 0.6.1 mais n'installe pas les fichiers de configuration (qxt.prf et qxtvars.prf)
	utiles pour le .pro

	> tar xvf libqxt-libqxt-af08f520f71c.tar.bz2
	> cd libqxt-libqxt-af08f520f71c/
	> ./configure
	> make
	> sudo make install

	I] Si la liste des widgets de Qxt n'apparait pas dans la liste des widgets de QtDesigner :

		> sudo ln -s /usr/local/Qxt/lib/libQxtGui.so.0 /usr/lib/
		> sudo ln -s /usr/local/Qxt/lib/libQxtCore.so.0 /usr/lib/
		
		Relancez QtDesigner.

5) QwtPolar
   ********

	Utilisation de la version disponible sur le site http://sourceforge.net/projects/qwtpolar (v. 1.0.0)
	N'existe pas dans les dépôts.
	
	> unzip qwtpolar-1.0.0.zip
	> cd qwtpolar-1.0.0/
	> qmake
	> make
	> sudo make install

	I] Si vous rencontrez des problèmes lors de la compilation de TreeSnake :
	
		1) Vérifiez que les deux fichiers suivants existent :
			- /usr/share/qt4/mkspecs/features/qwtpolar.prf
			- /usr/share/qt4/mkspecs/features/qwtpolarconfig.pri
	
			S'ils n'existent pas :
	
			> sudo ln -s /usr/local/qwtpolar-1.0.0/features/qwtpolar.prf /usr/share/qt4/mkspecs/features/
			> sudo ln -s /usr/local/qwtpolar-1.0.0/features/qwtpolarconfig.pri /usr/share/qt4/mkspecs/features/

		2) Si 1) n'a pas résolu le problème :
	
			> sudo ln -s usr/local/qwtpolar-1.0.0/lib/libqwtpolar.so       /usr/lib/
			> sudo ln -s usr/local/qwtpolar-1.0.0/lib/libqwtpolar.so.1     /usr/lib/
			> sudo ln -s usr/local/qwtpolar-1.0.0/lib/libqwtpolar.so.1.0   /usr/lib/
			> sudo ln -s usr/local/qwtpolar-1.0.0/lib/libqwtpolar.so.1.0.0 /usr/lib/

	II] Si le widget QwtPolarPlot n'apparait pas dans la liste des widgets de QtDesigner :

		> cd /usr/local/qwtpolar-1.0.0/plugins/designer/
		> sudo ln -s libqwt_polar_designer_plugin.so /usr/lib/x86_64-linux-gnu/qt4/plugins/designer/

6) DGtalTools
   **********

	Nécessite l'installation de DGtal :
	
	> git checkout git://github.com/DGtal-team/DGtal.git DGtal
	> mkdir DGtal/build
	> cd DGtal/build
	> cmake .. -DWITH_GMP=true -DWITH_ITK=true -DWITH_QGLVIEWER=true
	> make
	> sudo make install

	On peut ensuite installer DGtalTools :

	> git checkout git://github.com/DGtal-team/DGtalTools.git DGtalTools
	> mkdir DGtalTools/build
	> cd DGTalTools/build
	> cmake .. -DWITH_VISU3D_QGLVIEWER=true
	> make
	> sudo make install


8) ImaGene
   *****
   DGLib utilise des fonctionalité de d'ImaGene. Il faut donc installer ImaGene par exemple à partir d'une version sans dépendance:
   > git clone git://github.com/kerautret/ImaGeneNoDep.git
   > mkdir ImaGeneNoDep/build
   > cd ImaGeneNoDep/build
   > cmake ..
   > make -j 4
   > sudo make install


8) DGLib
   *****

	Doit être téléchargé ici : http://www.loria.fr/~krahenbu/dgci2013/DGLib_for_TKDetection.zip

	> unzip DGLib_for_TKDetection
	> mkdir DGLib_for_TKDetection/build
	> cd DGLib_for_TKDetection/build
	> cmake ..
	> make
	> sudo make install

